# `for in`

Инструкция `for...in` выполняет цикл обхода перечисляемых свойств объекта, включая перечисляемые свойства прототипов.

В каждой итерации цикла переменная цикла получает значение, соответствующее имени перечисляемого свойства объекта. Порядок обхода свойств строго определён спецификацией ECMAScript.

Перечисляемые свойства — это свойства, которые разработчик добавляет объекту.

В цикл `for...in` не попадут: встроенные свойства, например, методы объекта, унаследованные от `Object.prototype`, а также свойства, имена которых имеют тип `Symbol`.

Цикл `for...in` — это хороший способ пройти по всем свойствам объекта, но стоит помнить несколько важных особенностей.

Перечисляемые свойства объекта — это свойства, которые явно помечены такими. Сказать свойству, что оно перечисляемое, можно через специальный метод `defineProperty()`. Для простоты все свойства, которые добавляются к объекту, являются перечисляемыми по умолчанию. Встроенные свойства не перечисляются. Например, метод `indexOf()` у объекта `String` или метод `toString()` у любого объекта не участвует в цикле `for...in`.

Цикл `for...in` будет перебирать не только собственные свойства объекта, но и перечисляемые свойства, наследуемые от цепочки прототипов. Имена свойств в цикле не повторяются. Свойства объекта имеют наивысший приоритет, а свойства ближайших прототипов — больший приоритет над свойствами прототипов, находящихся дальше от объекта в его цепочке прототипов.

Если несколько объектов в цепочке прототипов имеют свойство с одинаковым именем, будет учитываться только первое из них, и оно будет участвовать в цикле только в том случае, если перечисляемое. Если оно неперечисляемое, никакие другие свойства с таким же именем дальше по цепочке прототипов не будут участвовать в цикле, даже если они являются перечислимыми.

Спецификация ECMAScript определяет следующий порядок обхода перечисляемых свойств объекта при выполнении цикла `for...in`:

1. Неотрицательные целочисленные ключи (те, которые могут быть индексами массива) в порядке возрастания значений.
2. Строковые ключи в порядке возрастания хронологии создания.

В том же порядке будут перебираться свойства прототипов объекта.

Использовать цикл `for...in` для перебора массивов не рекомендуется по нескольким причинам:

В цикл `for...in` попадут не только целочисленные свойства, но и строковые, а также наследуемые.

Переменная цикла на каждой итерации, соответствующая индексу текущего элемента, будет иметь тип строки, а не числа.

Для перебора у массива есть собственные методы: `forEach()`, `map()` и другие.

По возможности следует избегать изменения объекта при выполнении цикла.

Для получения списка перечисляемых свойств только самого объекта, можно использовать статический метод `Object.keys()`.

## Синтаксис

```js
for (переменная in итерируемый объект) {
  // тело цикла
}
```

## Пример

```js
const cat = {
  name: 'Борис',
  color: 'red',
  age: 8,
};

for (const key in cat) {
  console.log(`${key} — ${cat[key]}`);
}
// name — 'Борис',
// color — 'red',
// age — 8
```
