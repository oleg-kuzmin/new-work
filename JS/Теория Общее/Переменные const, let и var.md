# Переменные `const`, `let` и `var`

Переменные в JavaScript хранят значения, которыми оперирует код. Для создания переменных используются ключевые слова `var`, `let` и `const`.

Движок обрабатывает код в несколько заходов. Первым делом создаются все переменные, объявленые через `var` и функции, созданные как `function declaration`. Затем уже начинается построчное выполнение кода.

Использование `var` оправданно, если нужно писать код для старых браузеров времён IE 11 или Opera mini. Во всех остальных случаях лучше использовать `let` и `const`, так как они не позволят допустить ошибки, приводящие к неправильным значениям в переменных или изменениям глобальных переменных.

Переменные — это именованные контейнеры для хранения данных.

Для создания переменной используется ключевое слово `let`, `const` или `var`. Сразу за ключевым словом идёт название переменной либо перечень переменных через запятую. Создание переменной также называют объявлением переменной.

Переменные, объявленные через `const` и `let`, а также функции, созданные через функциональные выражения, не поднимаются.

Для имени переменной можно использовать следующие правила:

- буквы латинского алфавита
- цифры
- символы `$` и `_`
- первый символ не должен быть цифрой.
- нельзя использовать зарезервированные языком слова. Например: class, super, throw, yield, var, let, const и так далее.

Перед выполнением скрипта JavaScript находит код создания переменных и заранее создаёт их. Получается, что в начале выполнения скрипта все переменные, описанные в коде, уже объявлены. В зависимости от браузера, они могут быть равны `undefined` (в Chrome и Safari), либо, в случае с `let` и `const` в браузере Firefox, не равны ничему и иметь специальное состояние `uninitialized`.

Получается, что некоторое время переменная может содержать значение `undefined` и быть доступной для чтения. Этим нужно пользоваться с осторожностью.

У переменных `let`, `const` и `var` разная область видимости. У `let` и `const` область видимости ограничена блоком, а не функцией. Другими словами, если переменные `let` и `const` объявлены внутри `{ ... }`, то доступны только там и на всех вложенных уровнях. Переменная, объявленная через `var` такую область видимости игнорирует и может быть доступна за её пределами.

```js
if (true) {
  let a = 10;
  const b = 20;
  var c = 30;
}

console.log(a); // ReferenceError
console.log(b); // ReferenceError
console.log(c); // 30
```

## `let`

Используя ключевое слово `let`, можно объявить переменную без присвоения ей начального значения. В таком случае она будет равна undefined.

К переменным `let` и `const` нельзя обращаться до их объявления в коде.

Оба типа переменных имеют блочную область видимости и не становятся частью глобального объекта (window в браузере, global в Node.js). Блочная область видимости не даёт получить значение переменной вне блока, где она была объявлена.

Значение в переменной, созданной через `let`, можно изменять.

```js
let a;
console.log(a); // undefined
a = 5;
console.log(a); // 5
```

## `const`

При помощи `const` нельзя объявлять переменные без значения.

Объект, хранящийся в `const`, может мутировать. Объекты хранятся по ссылке, и изменение объекта не приводит к изменению ссылки на него.

К переменным `let` и `const` нельзя обращаться до их объявления в коде.

Оба типа переменных имеют блочную область видимости и не становятся частью глобального объекта (window в браузере, global в Node.js). Блочная область видимости не даёт получить значение переменной вне блока, где она была объявлена.

Стартовое значение `const` изменить нельзя, будь то примитивное значение.

```js
const a = 5;
a = 10; // TypeError: Assignment to constant variable
```

Имена констант принято писать, используя `SCREAMING_SNAKE_CASE`. В данной нотации все слова пишутся заглавными буквами, а разделителем является символ `_`.

```js
const BASE_URL = 'https://doka.guide';
const PORT = 3000;
const UNAUTHORIZED_CODE = 401;
const COLOR_ORANGE = '#FF7F00';
```

## `var`

Переменные объявленные через `var` всплывают (`hoisting`).

Это значит, что если мы обратимся к переменной ещё до момента её инициализации, то получим `undefined`.

Переменные `var` можно объявлять без присвоения им значения, в таком случае они будут равны `undefined`.

Переменные, объявленные через `var`, имеют функциональную область видимости. Они доступны только в пределах текущей функции или глобального объекта, если функции нет:

```js
if (true) {
  var a = 5;
}

function foo() {
  var b = 10;
}

console.log(a); // 5
console.log(b); // ReferenceError: b is not defined
```

Объявление переменных вне функций делает их глобальными переменными. Они доступны как свойства глобального объекта.

```js
var variable = 5;
console.log(window.variable); // 5
```

К переменным, объявленным при помощи ключевого слова `var`, можно обращаться до момента объявления. В отличие от `let` и `const`, ошибки это не вызовет. Такое поведение называется `hoisting` - «всплытие»:

```js
console.log(a); // undefined
var a = 5;
console.log(a); // 5
```
