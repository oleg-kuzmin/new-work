# [`storage`](../index.md)

Когда обновляются данные в `localStorage` или `sessionStorage`, генерируется событие `storage` со следующими свойствами:

- `evt.key` – ключ, который обновился (`null`, если вызван `.clear()`).
- `evt.oldValue` – старое значение (`null`, если ключ добавлен впервые).
- `evt.newValue` – новое значение (`null`, если ключ был удалён).
- `evt.url` – адрес документа, где произошло обновление.
- `evt.torageArea` – объект `localStorage` или `sessionStorage`, где произошло обновление.

Важно: событие срабатывает на всех остальных объектах `window`, где доступно хранилище, кроме того окна, которое его вызвало.

Представьте, что у вас есть два окна с одним и тем же сайтом. Хранилище `localStorage` разделяется между ними. Вы можете открыть эту страницу в двух окнах браузера, чтобы проверить приведённый ниже код. Если оба окна слушают `window.onstorage`, то каждое из них будет реагировать на обновления, произошедшие в другом окне.

## Пример

_Событие для addEventListener_

```js
window.addEventListener('storage', function (evt) {
  console.log(evt);
});
```

_Свойство элемента_

```js
window.onstorage = evt => {
  console.log(evt);
};
```
