# `Set`

`Set` (по-русски говорят множество) — коллекция для хранения уникальных значений любого типа. Одно и то же значение нельзя добавить в Set больше одного раза.

`Set` — это неиндексированная коллекция, положить элемент в коллекцию можно, но достать нельзя. По элементам коллекции можно итерироваться.

Коллекция `Set` может хранить произвольный набор значений — нет разницы, хранить в коллекции примитивные типы, объекты или массивы. `Set` гарантирует, что одно и то же значение не может попасть в коллекцию больше одного раза. Если нам нужно получить коллекцию уникальных значений из массива неуникальных — `Set` один из способов этого достичь.

`Set` — это неиндексированная коллекция. В этой структуре данных нет понятия индекса элемента, поэтому нельзя получить произвольный элемент коллекции. В коллекцию можно только положить значение, а получить отдельное значение нельзя.

Основной инструмент работы с `Set` — обход коллекции. При обходе коллекции нам гарантируется, что мы будем получать элементы в порядке их добавления в `Set`, то есть первыми обойдём элементы добавленные раньше всего.

`Set` использует строгое сравнение для проверки, есть ли элемент в коллекции или нет. Добавление примитивных значений разных типов будет работать как ожидается, приведения типов нет. При добавлении числа и строки с этим числом оба добавятся в коллекцию.

Непримитивные типы хранятся по ссылке, поэтому `Set` будет проверять что мы действительно пытаемся добавить тот же самый объект в коллекцию или нет. Это может казаться нелогичным, потому что объекты могут выглядеть одинаково, но не быть одним и тем же объектом (то есть у них разные адреса в памяти).

## Синтаксис

```js
// Пустой Set
const set = new Set()

// Set c элементами
const set = new Set([итерируемый список значений])
```

### `[итерируемый список значений]`

Можно сразу добавить в него элементы. Для этого нужно передать в конструктор итерируемый список значений. Обычно это массив.

## Пример

_Базовый пример:_

```js
const uniqueIds = new Set();

uniqueIds.add(123);
uniqueIds.add(456);
uniqueIds.add(111);
uniqueIds.add(123);

console.log(uniqueIds.size); // 3 (не 4, так как число 123 уже есть)
console.log(uniqueIds.has(111)); // true

uniqueIds.delete(111);
console.log(uniqueIds.size); // 2

uniqueIds.clear();
console.log(uniqueIds.size); // 0
```

_Пример forEach:_

```js
const filled = new Set([1, 2, 3, 3, 3, 'hello']);

filled.forEach(function (value) {
  console.log(value);
});

// 1
// 2
// 3
// 'hello'
```

_Пример for...of:_

```js
const filled = new Set([1, 2, 3, 3, 3, 'hello']);

for (let n of filled) {
  console.log(n);
}

// 1
// 2
// 3
// 'hello'
```

_Массив уникальных элементов из массива неуникальных_

```js
const nonUnique = [1, 2, 3, 4, 5, 4, 5, 1, 1];
const uniqueValuesArr = [...new Set(nonUnique)];

console.log(uniqueValuesArr); // [1, 2, 3, 4, 5]
```
