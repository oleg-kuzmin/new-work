# [`git commit`](./index.md)

Создать коммит проиндексированного состояния кода.

Откроет Vim с предложением ввести комментарий к коммиту.

Фиксирует текущее состояние, очищая stage.

```bash
# Синтаксис.
git commit

# Быстрое создание коммита с указанным комментарием.
# При передаче ключа -m (message) Vim не открывается.
git commit -m "text"

# Изменение коммита.
# Проиндексированные изменения будут добавлены в предыдущий коммит.
# Откроет текстовый редактор с предложением изменить указанный ранее комментарий к коммиту.
# Предыдущий коммит не останется в текущей ветке.
# Можно добавлять/изменять файлы, сделав git add .
# Потом выполнить git commit --amend. Новые файлы будут также добавлены.
git commit --amend
```

## Vim

Редактор откроется при команде `git commit`.

1. Нажать `i` - Войти в режим редактирования (внизу будет надпись ВСТАВКА).
2. Напечатать нужный текст.
3. Нажать `Escape` - Выход из режима редактирования в командный режим.

```bash
Shift + ZZ (:wq)           # Выйти из файла сохранив изменения (в командном режиме)
Shift + ZQ (:q!)           # Выйти из файла без сохранения изменений (в командном режиме)
```
