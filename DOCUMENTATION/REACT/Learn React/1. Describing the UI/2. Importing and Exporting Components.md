# [Импорт и экспорт компонентов](../../index.md)

- [Обзор](#обзор)
- [Файл корневого компонента](#файл-корневого-компонента)
- [Экспорт и импорт компонента](#экспорт-и-импорт-компонента)
- [Экспорт и импорт нескольких компонентов из одного файла](#экспорт-и-импорт-нескольких-компонентов-из-одного-файла)
- [Резюме](#резюме)
- [Следующие шаги](#следующие-шаги)

## [Обзор](#)

**Магия компонентов заключается в их возможности повторного использования: вы можете создавать компоненты, состоящие из других компонентов. Но по мере того, как вы добавляете все больше и больше компонентов, часто имеет смысл разделять их на разные файлы. Это позволяет упростить сканирование файлов и повторно использовать компоненты в большем количестве мест.**

### Вы научитесь

- Что такое корневой файл компонента
- Как импортировать и экспортировать компонент
- Когда использовать импорт и экспорт по умолчанию и по имени
- Как импортировать и экспортировать несколько компонентов из одного файла
- Как разделить компоненты на несколько файлов

## [Файл корневого компонента](#)

В главе [Ваш первый компонент](<./1. Your First Component.md>) вы создали компонент `Profile` и компонент `Gallery`, который его рендерит:

```jsx
// App.js
function Profile() {
  return <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />;
}

export default function Gallery() {
  return (
    <section>
      <h1>Amazing scientists</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}
```

В настоящее время они хранятся в **файле корневого компонента** с именем `App.js` в данном примере. Однако, в зависимости от настроек, ваш корневой компонент может находиться в другом файле. Если вы используете фреймворк с маршрутизацией на основе файлов, например `Next.js`, ваш корневой компонент будет отличаться для каждой страницы.

## [Экспорт и импорт компонента](#)

Что, если в будущем вы захотите изменить целевую страницу и разместить там список научных книг? Или разместить все профили в другом месте? Имеет смысл переместить `Gallery` и `Profile` из корневого файла компонента. Это сделает их более модульными и пригодными для повторного использования в других файлах. Вы можете переместить компонент в три этапа:

1. **Создайте** новый JS-файл для размещения в нем компонентов.
2. **Экспортируйте** свой функциональный компонент из этого файла (используя либо [экспорт по умолчанию](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/export#using_the_default_export), либо [именованный экспорт](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/export#using_named_exports)).
3. **Импортируйте** его в файл, в котором вы будете использовать компонент (используя соответствующий [импорт по умолчанию](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/import#importing_defaults) или [именованный импорт](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/import#import_a_single_export_from_a_module)).

Здесь и `Profile`, и `Gallery` были перенесены из `App.js` в новый файл с именем `Gallery.js`. Теперь вы можете изменить `App.js`, чтобы импортировать `Gallery` из `Gallery.js`:

```jsx
// App.js
import Gallery from './Gallery.js';

export default function App() {
  return <Gallery />;
}
```

```jsx
// Gallery.js
function Profile() {
  return <img src="https://i.imgur.com/QIrZWGIs.jpg" alt="Alan L. Hart" />;
}

export default function Gallery() {
  return (
    <section>
      <h1>Amazing scientists</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}
```

Обратите внимание, что теперь этот пример разбит на два составных файла:

- `Gallery.js`:
  - Определяет компонент `Profile`, который используется только в том же файле и не экспортируется.
  - Экспортирует компонент `Gallery` в качестве **экспорта по умолчанию**.
- `App.js`:
  - Импортирует `Gallery` в качестве **импорта по умолчанию** из `Gallery.js`.
  - Экспортирует корневой компонент `App` в качестве **экспорта по умолчанию**.

### Примечание

> Вы можете столкнуться с файлами, которые не имеют расширения `.js`, например:

```jsx
import Gallery from './Gallery';
```

> С React будет работать либо `"./Gallery.js"`, либо `"./Gallery"`, хотя первый вариант ближе к тому, как работают [нативные модули ES](https://developer.mozilla.org/docs/Web/JavaScript/Guide/Modules).

### Экспорт по умолчанию или именованный экспорт

> Существует два основных способа экспорта значений с помощью JavaScript: экспорт по умолчанию и именованный экспорт. До сих пор в наших примерах использовался только экспорт по умолчанию. Но вы можете использовать один или оба из них в одном файле. **В файле может быть не более одного экспорта по умолчанию, но именованных экспортов может быть сколько угодно.**

![image](<./2.1. Importing and Exporting Components.svg>)

> От того, как вы экспортируете свой компонент, зависит, как вы должны его импортировать. При попытке импортировать экспорт по умолчанию тем же способом, что и именованный экспорт, вы получите сообщение об ошибке! Эта таблица поможет вам отслеживать:

> | Синтаксис    | Экспорт                               | Импорт                                 |
> | :----------- | :------------------------------------ | :------------------------------------- |
> | по умолчанию | `export default function Button() {}` | `import Button from './Button.js'`     |
> | именованный  | `export function Button() {}`         | `import { Button } from './Button.js'` |

> Когда вы пишете импорт по умолчанию, вы можете указать любое имя, которое хотите, после `import`. Например, вы могли бы написать `import Banana from './Button.js'` вместо этого, и это все равно предоставило бы вам тот же экспорт по умолчанию. Напротив, при именованном импорте имя должно совпадать с обеих сторон. Вот почему это называется **именованным** импортом!

> **Люди часто используют экспорт по умолчанию, если файл экспортирует только один компонент, и именованный экспорт, если он экспортирует несколько компонентов и значений.** Независимо от того, какой стиль кодирования вы предпочитаете, всегда присваивайте осмысленные имена функциям вашего компонента и файлам, которые их содержат. Компоненты без имен, такие как `export default () => {}`, не рекомендуются, поскольку они усложняют отладку.

## [Экспорт и импорт нескольких компонентов из одного файла](#)

Что делать, если вы хотите отобразить только один `Profile` вместо галереи? Вы также можете экспортировать компонент `Profile`. Но у `Gallery.js` уже есть экспорт по умолчанию, и у вас не может быть двух экспортов по умолчанию. Вы можете создать новый файл с экспортом по умолчанию или добавить именованный экспорт для `Profile`. **Файл может иметь только один экспорт по умолчанию, но может иметь множество именованных экспортов!**

### Примечание

> Чтобы избежать путаницы между экспортом по умолчанию и именованным экспортом, некоторые команды предпочитают придерживаться только одного стиля (по умолчанию или именованного) или не смешивать их в одном файле. Делайте то, что вам больше подходит!

Сначала **экспортируйте** `Profile` из `Gallery.js` используя именованный экспорт (без ключевого слова `default`):

```jsx
export function Profile() {
  // ...
}
```

Затем **импортируйте** `Profile` из `Gallery.js` в `App.js`, используя именованный импорт (с фигурными скобками).:

```jsx
import { Profile } from './Gallery.js';
```

Наконец, **отрендерите** `<Profile />` из компонента `App`:

```jsx
export default function App() {
  return <Profile />;
}
```

Теперь `Gallery.js` содержит два варианта экспорта: экспорт `Gallery` по умолчанию и именованный экспорт `Profile`. `App.js` импортирует их оба. Попробуйте изменить `<Profile />` на `<Gallery />` и обратно в этом примере:

```jsx
// App.js
import Gallery from './Gallery.js';
import { Profile } from './Gallery.js';

export default function App() {
  return <Profile />;
}
```

```jsx
// Gallery.js
export function Profile() {
  return <img src="https://i.imgur.com/QIrZWGIs.jpg" alt="Alan L. Hart" />;
}

export default function Gallery() {
  return (
    <section>
      <h1>Amazing scientists</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}
```

Теперь вы используете сочетание стандартного и именованного экспорта:

- `Gallery.js`:
  - Экспортирует компонент `Profile` в качестве **именованного экспорта с именем `Profile`**.
  - Экспортирует компонент `Gallery` в качестве **экспорта по умолчанию**.
- `App.js`:
  - Импортирует `Profile` в качестве **именованного импорта с именем `Profile`** из `Gallery.js`.
  - Импортирует `Gallery` в качестве **импорта по умолчанию** из `Gallery.js`.
  - Экспортирует корневой компонент `App` в качестве **экспорта по умолчанию**.

## [Резюме](#)

На этой странице вы узнали:

- Что такое корневой файл компонента
- Как импортировать и экспортировать компонент
- Когда и как использовать импорт и экспорт по умолчанию и именованный импорт и экспорт
- Как экспортировать несколько компонентов из одного файла

## [Следующие шаги](#)

- Продолжение - [Глава 3. Написание разметки с помощью JSX](<./3. Writing Markup with JSX.md>)
