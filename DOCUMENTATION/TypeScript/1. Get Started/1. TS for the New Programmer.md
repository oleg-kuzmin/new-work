# [TypeScript для начинающих программистов](../index.md)

- [Что такое JavaScript? Краткая история](#что-такое-javascript-краткая-история)
- [TypeScript: средство проверки статического типа](#typescript-средство-проверки-статического-типа)
- [Типизированное дополнение к JavaScript](#типизированное-дополнение-к-javascript)
- [Изучение JavaScript и TypeScript](#изучение-javascript-и-typescript)
- [Следующие шаги](#следующие-шаги)

Поздравляем с выбором TypeScript в качестве одного из ваших первых языков — вы уже принимаете правильные решения!

Вы, вероятно, уже слышали, что TypeScript — это «разновидность» или «вариант» JavaScript. Связь между TypeScript (TS) и JavaScript (JS) довольно уникальна среди современных языков программирования, поэтому изучение этой связи поможет вам понять, как TypeScript дополняет JavaScript.

## [Что такое JavaScript? Краткая история](#typescript-для-начинающих-программистов)

JavaScript (также известный как ECMAScript) начал свою жизнь как простой язык сценариев для браузеров. В то время, когда он был изобретен, ожидалось, что он будет использоваться для коротких фрагментов кода, встроенных в веб-страницу — написание более нескольких десятков строк кода было бы несколько необычно. Из-за этого ранние веб-браузеры выполняли такой код довольно медленно. Однако со временем JS становился все более популярным, и веб-разработчики начали использовать его для создания интерактивного опыта.

Разработчики веб-браузеров отреагировали на это возросшее использование JS, оптимизировав свои механизмы выполнения (динамическая компиляция) и расширив возможности его использования (добавление API), что в свою очередь заставило веб-разработчиков использовать его еще больше. На современных веб-сайтах ваш браузер часто запускает приложения, охватывающие сотни тысяч строк кода. Это долгий и постепенный рост «веба», начинавшегося как простая сеть статических страниц и превращавшегося в платформу для многофункциональных приложений всех видов.

Более того, JS стал достаточно популярен, чтобы его можно было использовать вне контекста браузеров, например, для реализации JS-серверов с использованием node.js. Природа JS «запускать где угодно» делает его привлекательным выбором для кроссплатформенной разработки. В наши дни есть много разработчиков, которые используют только JavaScript для программирования всего своего стека!

Подводя итог, у нас есть язык, который был разработан для быстрого использования, а затем вырос до полноценного инструмента для написания приложений с миллионами строк. У каждого языка есть свои причуды — странности и сюрпризы, и скромное начало JavaScript делает его многочисленным. Вот несколько примеров:

- Оператор равенства JavaScript (==) приводит к числу свои операнды, что приводит к неожиданному поведению:

```js
if ('' == 0) {
  // true - Это так! Но почему??
}
if (1 < x < 3) {
  // true - Верно для любого значения x!
}
```

- JavaScript также позволяет получить доступ к отсутствующим свойствам:

```js
const obj = { width: 10, height: 15 };
// NaN - Почему NaN? Ошибка в heigth
const area = obj.width * obj.heigth;
```

Большинство языков программирования завершаются ошибкой при возникновении таких проблем, некоторые делают это еще во время компиляции — до того, как какой-либо код будет запущен. При написании небольших программ такие странности раздражают, но с ними можно справиться. При написании же приложений с сотнями или тысячами строк кода эти постоянные сюрпризы становятся серьезной проблемой.

## [TypeScript: средство проверки статического типа](#typescript-для-начинающих-программистов)

Ранее мы говорили, что некоторые языки вообще не позволяют запускать эти программы с ошибками. Обнаружение ошибок в коде без его запуска называется статической проверкой. Определение того, что является ошибкой, а что нет, на основе типов значений, с которыми производятся операции, называется статической проверкой типов.

TypeScript проверяет программу на наличие ошибок перед выполнением и делает это на основе типов значений, что делает его средством проверки статического типа. Например, в последнем примере выше имеется ошибка из-за типа объекта `obj`. Вот найденная ошибка TypeScript:

```js
const obj = { width: 10, height: 15 };
const area = obj.width * obj.heigth;
// Ошибка: Свойство "heigth" не существует в типе "{ width: number; height: number; }". Вы имели в виду "height"?
```

## [Типизированное дополнение к JavaScript](#typescript-для-начинающих-программистов)

Однако какое отношение TypeScript имеет к JavaScript?

### Синтаксис

TypeScript — это язык, который является расширенной версией JavaScript: поэтому синтаксис JS является допустимым в TS. Синтаксис относится к тому, как мы пишем текст для формирования программы. Например, в этом коде есть синтаксическая ошибка, поскольку в нем отсутствует `)`:

```ts
let a = (4
// Ошибка: Ожидалось ")".
```

TypeScript не считает код JavaScript ошибкой из-за его синтаксиса. Это означает, что вы можете взять любой рабочий код JavaScript и поместить его в файл TypeScript, не беспокоясь о том, как именно он написан.

### Типы

Однако TypeScript является типизированным расширенным набором, а это означает, что он добавляет правила использования различных типов значений. Предыдущая ошибка, связанная с `obj.heigth`, не была синтаксической ошибкой: это ошибка неправильного использования какого-либо значения (типа).

Другой пример: это код JavaScript, который вы можете запустить в своем браузере, и он зарегистрирует значение:

```js
console.log(4 / []);
```

Эта синтаксическая конструкция регистрирует `Infinity`. TypeScript, однако, считает деление числа на массив бессмысленной операцией и выдает ошибку:

```ts
console.log(4 / []);
// Ошибка: Правый операнд арифметической операции должен иметь тип "any", "number", "bigint" или тип перечисления.
```

Возможно, вы действительно намеревались разделить число на массив, возможно, просто чтобы посмотреть, что получится, но в большинстве случаев это ошибка программирования. Проверка типов TypeScript разработана для того, чтобы пропускать правильные программы, при этом отлавливая как можно больше распространенных ошибок. (Позже мы узнаем о настройках, которые можно использовать для настройки того, насколько строго TypeScript проверяет ваш код.)

Если вы переместите часть кода из файла JavaScript в файл TypeScript, вы можете увидеть ошибки типов в зависимости от того, как написан код. Это могут быть законные проблемы с кодом или излишняя консервативность TypeScript. В этом руководстве мы покажем, как добавлять различные синтаксисы TypeScript для устранения таких ошибок.

### Поведение во время выполнения

TypeScript также является языком программирования, который сохраняет поведение JavaScript во время выполнения. Например, деление на ноль в JavaScript дает `Infinity` вместо выдачи исключения во время выполнения. В принципе, TypeScript никогда не изменяет поведение кода JavaScript во время выполнения.

Это означает, что если вы переместите код из JavaScript в TypeScript, он гарантированно будет работать так же, даже если TypeScript считает, что в коде есть ошибки типа.

Сохранение того же поведения во время выполнения, что и JavaScript, является основополагающим обещанием TypeScript, поскольку это означает, что вы можете легко переключаться между двумя языками, не беспокоясь о тонких различиях, которые могут привести к тому, что ваша программа перестанет работать.

### Стирание типов

Грубо говоря, как только компилятор TypeScript завершит проверку вашего кода, он стирает типы и создает результирующий «скомпилированный» код. Это означает, что после компиляции полученный простой JS-код не содержит информации о типе.

Это также означает, что TypeScript никогда не изменяет поведение вашей программы на основе выведенных ею типов. Суть в том, что хотя вы можете увидеть ошибки типов во время компиляции, сама система типов не влияет на то, как работает ваша программа при запуске.

Наконец, TypeScript не предоставляет никаких дополнительных библиотек runtime. Ваши программы будут использовать ту же стандартную библиотеку (или внешние библиотеки), что и программы JavaScript, поэтому вам не придется изучать дополнительную структуру, специфичную для TypeScript.

## [Изучение JavaScript и TypeScript](#typescript-для-начинающих-программистов)

Мы часто сталкиваемся с вопросом: «Следует ли мне изучать JavaScript или TypeScript?».

Ответ в том, что вы не сможете изучить TypeScript, не изучив JavaScript! Синтаксис TypeScript и поведение во время выполнения аналогичны JavaScript, поэтому все, что вы узнаете о JavaScript, поможет вам одновременно изучить TypeScript.

Существует множество ресурсов, доступных программистам для изучения JavaScript; вы не должны игнорировать эти ресурсы, если пишете на TypeScript. Например, на StackOverflow примерно в 20 раз больше вопросов с тегом javascript, чем typescript, но все вопросы по javascript также применимы к TypeScript.

Если вы обнаружите, что ищете что-то вроде «как сортировать список в TypeScript», помните: TypeScript — это среда выполнения JavaScript с проверкой типов во время компиляции. Способ сортировки списка в TypeScript такой же, как и в JavaScript. Если вы найдете ресурс, который напрямую использует TypeScript, это тоже здорово, но не ограничивайте себя мыслью, что вам нужны ответы, специфичные для TypeScript, для повседневных вопросов о том, как выполнять задачи во время выполнения.

## [Следующие шаги](#typescript-для-начинающих-программистов)

Это был краткий обзор синтаксиса и инструментов, используемых в повседневной работе TypeScript. Отсюда вы можете:

- Изучите некоторые основы JavaScript. Мы рекомендуем:

  - [Ресурсы Microsoft по JavaScript](https://developer.microsoft.com/javascript/)
  - [Руководство по JavaScript от Mozilla](https://developer.mozilla.org/docs/Web/JavaScript/Guide)

- Прочитать [Handbook от начала до конца](<../Handbook/1. The TypeScript Handbook.md>)

- Изучить примеры в [песочницах](https://www.typescriptlang.org/play#show-examples)

- Продолжение - [TS for JS Programmers](<./2. TS for JS Programmers.md>)
