# [Добавление интерактивности](../../index.md)

- [Обзор](#обзор)

## [Обзор](#)

Некоторые элементы на экране обновляются в ответ на ввод пользователя. Например, нажатие на галерею изображений переключает активное изображение. В React данные, которые изменяются со временем, называются состоянием. Вы можете добавить состояние к любому компоненту и обновлять его по мере необходимости. В этой главе вы узнаете, как писать компоненты, которые обрабатывают взаимодействия, обновляют свое состояние и отображают различные выходные данные с течением времени.

### В этой главе

- [Как обрабатывать события, инициированные пользователем](<./1. Responding to Events.md>)
- [Как заставить компоненты «запоминать» информацию с помощью состояния](<./2. State. A Component's Memory.md>)
- [Как React обновляет пользовательский интерфейс в два этапа](<./3. Render and Commit.md>)
- [Почему состояние не обновляется сразу после его изменения](<./4. State as a Snapshot.md>)
- [Как поставить в очередь несколько обновлений состояния](<./5. Queueing a Series of State Updates.md>)
- [Как обновить объект в состоянии](<./6. Updating Objects in State.md>)
- [Как обновить массив в состоянии](<./7. Updating Arrays in State.md>)

## [Реагирование на события](#)

React позволяет добавлять обработчики событий в ваш JSX. Обработчики событий — это ваши собственные функции, которые будут запускаться в ответ на взаимодействие пользователя, например, нажатие, наведение курсора, фокусировка на полях ввода формы и т.д.

Встроенные компоненты, такие как `<button>`, поддерживают только встроенные события браузера, такие как `onClick`. Однако вы также можете создавать свои собственные компоненты и давать их обработчикам событий любые имена, специфичные для приложения, которые вам нравятся.

```jsx
// App.js
export default function App() {
  return <Toolbar onPlayMovie={() => alert('Playing!')} onUploadImage={() => alert('Uploading!')} />;
}

function Toolbar({ onPlayMovie, onUploadImage }) {
  return (
    <div>
      <Button onClick={onPlayMovie}>Play Movie</Button>
      <Button onClick={onUploadImage}>Upload Image</Button>
    </div>
  );
}

function Button({ onClick, children }) {
  return <button onClick={onClick}>{children}</button>;
}
```

**Готовы изучить эту тему?**

Прочтите главу [Реагирование на события](<./1. Responding to Events.md>), чтобы узнать, как добавлять обработчики событий.

## [Состояние: Память компонента](#)

Компонентам часто нужно менять то, что находится на экране, в результате взаимодействия. Ввод текста в форму должен обновлять поле ввода, нажатие «далее» на карусели изображений должно менять отображаемое изображение, нажатие «купить» помещает продукт в корзину. Компонентам нужно «запоминать» вещи: текущее значение ввода, текущее изображение, корзину покупок. В React этот тип памяти, специфичный для компонента, называется состоянием.

Вы можете добавить состояние к компоненту с помощью хука [`useState`](https://react.dev/reference/react/useState). Хуки — это специальные функции, которые позволяют вашим компонентам использовать функции React (state — одна из таких функций). Хук `useState` позволяет вам объявлять переменную состояния. Он принимает начальное состояние и возвращает пару значений: текущее состояние и функцию установки состояния, которая позволяет вам его обновлять.

```jsx
const [index, setIndex] = useState(0);
const [showMore, setShowMore] = useState(false);
```

Вот как галерея изображений использует и обновляет состояние по щелчку:

```jsx
// App.js
import { useState } from 'react';
import { sculptureList } from './data.js';

export default function Gallery() {
  const [index, setIndex] = useState(0);
  const [showMore, setShowMore] = useState(false);
  const hasNext = index < sculptureList.length - 1;

  function handleNextClick() {
    if (hasNext) {
      setIndex(index + 1);
    } else {
      setIndex(0);
    }
  }

  function handleMoreClick() {
    setShowMore(!showMore);
  }

  let sculpture = sculptureList[index];
  return (
    <>
      <button onClick={handleNextClick}>Next</button>
      <h2>
        <i>{sculpture.name} </i>
        by {sculpture.artist}
      </h2>
      <h3>
        ({index + 1} of {sculptureList.length})
      </h3>
      <button onClick={handleMoreClick}>{showMore ? 'Hide' : 'Show'} details</button>
      {showMore && <p>{sculpture.description}</p>}
      <img src={sculpture.url} alt={sculpture.alt} />
    </>
  );
}
```

```js
// data.js
export const sculptureList = [
  {
    name: 'Homenaje a la Neurocirugía',
    artist: 'Marta Colvin Andrade',
    description:
      'Although Colvin is predominantly known for abstract themes that allude to pre-Hispanic symbols, this gigantic sculpture, an homage to neurosurgery, is one of her most recognizable public art pieces.',
    url: 'https://i.imgur.com/Mx7dA2Y.jpg',
    alt: 'A bronze statue of two crossed hands delicately holding a human brain in their fingertips.',
  },
];
```

**Готовы изучить эту тему?**

Прочтите главу [Состояние: Память компонента](<./2. State. A Component's Memory.md>), чтобы научиться запоминать значение и обновлять его при взаимодействии.
