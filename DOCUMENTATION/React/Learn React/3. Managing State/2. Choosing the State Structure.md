# [Выбор структуры состояния](../../index.md)

- [Обзор](#обзор)
- [Резюме](#резюме)
- [Следующие шаги](#следующие-шаги)

## [Обзор](#)

**Правильное структурирование состояния может стать причиной разницы между компонентом, который приятно изменять и отлаживать, и компонентом, который является постоянным источником ошибок. Вот несколько советов, которые следует учитывать при структурировании состояния.**

### Ты выучишь

- Когда использовать одну или несколько переменных состояния
- Чего следует избегать при организации состояния
- Как решить распространенные проблемы со структурой состояния

## [Принципы структурирования состояния](#)

Когда вы пишете компонент, который содержит некоторое состояние, вам придется сделать выбор относительно того, сколько переменных состояния использовать и какой должна быть форма их данных. Хотя возможно писать правильные программы даже с неоптимальной структурой состояния, есть несколько принципов, которые могут помочь вам сделать лучший выбор:

1. **Группируйте связанные состояния.** Если вы всегда обновляете две или более переменных состояния одновременно, рассмотрите возможность их объединения в одну переменную состояния.
2. **Избегайте противоречий в состоянии.** Когда состояние структурировано таким образом, что несколько его частей могут противоречить и «не соглашаться» друг с другом, вы оставляете место для ошибок. Старайтесь этого избегать.
3. **Избегайте избыточного состояния.** Если вы можете вычислить некоторую информацию из props компонента или его существующих переменных состояния во время рендеринга, вам не следует помещать эту информацию в состояние этого компонента.
4. **Избегайте дублирования в состоянии.** Когда одни и те же данные дублируются между несколькими переменными состояния или внутри вложенных объектов, их трудно синхронизировать. Уменьшайте дублирование, когда можете.
5. **Избегайте глубоко вложенных состояний.** Глубоко иерархическое состояние не очень удобно обновлять. По возможности предпочитайте структурировать состояние плоским способом.

Цель этих принципов — сделать состояние простым для обновления без внесения ошибок. Удаление избыточных и дублирующихся данных из состояния помогает гарантировать, что все его части остаются синхронизированными. Это похоже на то, как инженер базы данных может захотеть [«нормализовать» структуру базы данных](https://docs.microsoft.com/en-us/office/troubleshoot/access/database-normalization-description), чтобы уменьшить вероятность ошибок. Перефразируя Альберта Эйнштейна, **«Сделайте свое состояние настолько простым, насколько это возможно, — но не проще».**

Теперь давайте посмотрим, как эти принципы применяются на практике.
