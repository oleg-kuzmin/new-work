# [`enum`](../index.md)

- [Описание](#описание)
- [Пример](#пример)
  - [Значения по умолчанию](#значения-по-умолчанию)
  - [Значения в виде чисел](#значения-в-виде-чисел)
  - [Значения в виде строк](#значения-в-виде-строк)
  - [Использование в параметрах функции](#использование-в-параметрах-функции)
  - [const enum](#const-enum)
  - [enum как объект](#enum-как-объект)

## [Описание](#enum)

Создает некоторый ограниченный список значений (похожий на литералы). Используется далее по коду по аналогии с константами для избежания ошибок. Объявление `enum` должно находится на самом верху файла до того, как мы его используем.

В отличие от типов TS, `enum` не просто мета-информация о типах, при компиляции он превращается в физическое значение.

При объявлении `enum` создаются переменные со значениями, начиная с числа `0`. Значения автоматически итерируются.

Если нужны другие значения - их можно задать после знака `=`. Значениями могут быть числа, строки, или вперемешку (такие `enum` называются гетерогенными и используются крайне редко). Также в качестве значения можно задать даже синхронную функцию, которая возвращает число или строку. Хорошей практикой также является написание `enum` заглавными буквами как константы.

Проблемы `enum`, в том что их нужно поддерживать (если добавляется новый ключ, нужно пересобирать приложение).

`enum` обычно используют для:

- статусы кодов запроса/ответа
- направления движения, месяцы, времена года или другие физические величины
- любые параметры в БД, имеющие ограниченные значения

`enum` не используют:

- когда нужно часто добавлять или менять `enum`
- для динамических данных
- для микросервисов

## [Пример](#enum)

### Значения по умолчанию

```ts
enum StatusCode {
  SUCCESS, // переменная SUCCESS со значением 0
  IN_PROCESS, // переменная IN_PROCESS со значением 1
  FAILED, // переменная FAILED со значением 2
}
```

### Значения в виде чисел

```ts
enum StatusCode {
  SUCCESS = 1, // переменная SUCCESS со значением 1
  IN_PROCESS, // переменная IN_PROCESS со значением 2
  FAILED, // переменная FAILED со значением 3
}
```

### Значения в виде строк

```ts
enum StatusCode {
  SUCCESS = 'success', // переменная SUCCESS со значением 'success'
  IN_PROCESS = 'process', // переменная IN_PROCESS со значением 'process'
  FAILED = 'failed', // переменная FAILED со значением 'failed'
}
```

### [Использование в параметрах функции](#enum)

Можно указать в качестве параметров только значения `enum`.

```ts
enum StatusCode {
  SUCCESS = 'success',
  IN_PROCESS = 'process',
  FAILED = 'failed',
}

function action(status: StatusCode) {}

action(StatusCode.SUCCESS);
```

### [const enum](#enum)

По умолчанию все `enum` компилируются в функции. Если нам не нужны функции, можно использовать `const enum`. Компилятор ищет все места где упоминается `enum` и заменяет их на константы. Если значение `enum` не используется, то при компиляции его не будет.

```ts
const enum Roles {
  ADMIN = 1,
  USER = 2,
}
```

### [enum как объект](#enum)

Стоит учитывать, что `enum` по сути является объектом и может быть передан как объект.

```ts
enum Roles {
  ADMIN,
  USER,
}

function test(x: { ADMIN: number }) {}

test(Roles);
```
